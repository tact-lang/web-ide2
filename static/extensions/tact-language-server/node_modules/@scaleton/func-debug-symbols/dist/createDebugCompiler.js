"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.createDebugCompiler = void 0;
const func_js_1 = require("@ton-community/func-js");
const func_js_bin_1 = require("@ton-community/func-js-bin");
const constants_1 = require("./constants");
function createDebugCompiler() {
    const originalCompiler = new func_js_1.FuncCompiler(func_js_bin_1.object);
    return Object.assign(originalCompiler, {
        createModule: async () => {
            const module = await originalCompiler.module({
                wasmBinary: originalCompiler.wasmBinary,
            });
            module.FS.writeFile('/fiftlib/Asm.fif', constants_1.ASM_FIF_CONTENT);
            return module;
        },
    });
}
exports.createDebugCompiler = createDebugCompiler;
